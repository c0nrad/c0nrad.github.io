<!DOCTYPE html>
<html lang="en-us">
<head>
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>Spherical Bug  - c0nrad&#39;s blog</title>
<meta name="description" content="Learning about physics">

<link rel="icon" type="image/x-icon" href="https://blog.c0nrad.io/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="https://blog.c0nrad.io/favicon.png">

<link rel="stylesheet" href="https://blog.c0nrad.io/css/style.css?rnd=1610050579" />

<link rel="stylesheet" href="https://blog.c0nrad.io/css/my.css?rnd=1610050579">

<meta property="og:title" content="Spherical Bug" />
<meta property="og:description" content="Discussion of one of my longest living software bugs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.c0nrad.io/posts/spherical-bug/" />
<meta property="og:image" content="https://blog.c0nrad.io/static/walljump.gif"/>
<meta property="article:published_time" content="2020-09-09T09:16:42-04:00" />
<meta property="article:modified_time" content="2020-09-09T09:16:42-04:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.c0nrad.io/static/walljump.gif"/>

<meta name="twitter:title" content="Spherical Bug"/>
<meta name="twitter:description" content="Discussion of one of my longest living software bugs."/>






    
</head>
<body>
    <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header> 
            
                <h1 class="site-header">
    <a href="https://blog.c0nrad.io/">c0nrad&#39;s blog</a>
</h1>
<nav>
    
    
    <a class="" href="https://c0nrad.io" title="">About</a>
    
    <a class="" href="https://github.com/c0nrad/" title="">Github</a>
    
    <a class="" href="https://twitter.com/xc0nradx" title="">Twitter</a>
    
</nav>

            
        </header>
        <main id="main" tabindex="-1"> 
            

<article class="post">
    <header>
        <h1>Spherical Bug</h1>
    </header>
    <div class="content">
        <nav id="TableOfContents"></nav>

        <p>Discussion of one of my longest living software bugs.</p>
<h1 id="overview">Overview</h1>
<p>Many moons ago I built a little tool to visualize the electron orbitals of hydrogen:</p>
<p><a href="https://blog.c0nrad.io/hydrogenjs">https://blog.c0nrad.io/hydrogenjs</a></p>
<p>At the time I thought it was correct, but on reddit and HN a few people mentioned that it didn&rsquo;t look correct. People quoted &ldquo;rotational symmetry&rdquo; but someone else (who had a degree in physics) said it looked fine. From my experience in computer security, normally there&rsquo;s a lot of people who don&rsquo;t know what they&rsquo;re talking about, so I wasn&rsquo;t really sure what&rsquo;s right or wrong.</p>
<p>Well, thankfully someone who did know what they were talking about opened a github issue on the code and explained the issue a little more clearly, (and pointed out a separate issue!).</p>
<p>The issue made a little more sense, and after downloading some mobile app that also showed the states, I could see that my diagrams were indeed a little bit different.</p>
<p>So I messed around quite a bit, it looked wrong, but I had no idea why. I tried different integration strategies, different ranges, different strategies for normalizing the probabilities. Nothing seemed to work.</p>
<p>So then last weekend I re-wrote the whole thing in Javascript (<a href="https://github.com/c0nrad/hydrogenjs)">https://github.com/c0nrad/hydrogenjs)</a>. It still didn&rsquo;t work.</p>
<p>I verified all the equations:</p>
<p>(This page is very slow, it calculates all the equations dynamically):
<a href="https://blog.c0nrad.io/hydrogenjs#formulas">https://blog.c0nrad.io/hydrogenjs#formulas</a></p>
<p>And they all looked fine.</p>
<p>Eventually I reached out to one of my professors here at college (I went back to college!), and he suggested that maybe something to do with complex wavefunctions?</p>
<h1 id="the-problem--solution">The problem / solution</h1>
<p>It ended up being something very dumb. It turns out that not everyone uses phi/theta the same way for spherical coordinates. I was using phi/theta the way Griffiths uses it in his Quantum Mechanics book uses them, but my 3D library threats phi/theta in reverse. (phi=theta, theta=phi).</p>
<p>It&rsquo;s frustrating that the charts looked relativity okay, had there been giant gaps or something it would have been obvious something was wrong, but only on some of the states did it look obviously wrong.</p>
<p>Anyways, once I made the one line change, it worked fine.</p>
<p>A little frustrating, but also exciting. This had been bugging me for almost 4 months now.</p>
<p>But now it&rsquo;s live, and a full dynamic javascript version:</p>
<p><a href="https://blog.c0nrad.io/hydrogenjs">https://blog.c0nrad.io/hydrogenjs</a></p>
<h1 id="next">Next</h1>
<p>It&rsquo;s possible i&rsquo;ll be doing some research with one my professors here at MTU. So many one of my models will have &ldquo;practical&rdquo; use! We&rsquo;ll see.</p>
<p>Until then, I have a huge list of things I want to program, I plan on doing one this weekend, see ya then!</p>
    </div>

    <div class="article-info">
    
        <div class="article-date">2020-09-09</div>
    
    <div class="article-taxonomies">
        
            
    </div>
</div>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


</article>





        </main>
        <footer>
            
                <p>Â© Stuart Larsen, 2021<br>
</p>


<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup {
        background: #fff;
        clear: left;
        font: 14px Helvetica, Arial, sans-serif;
        border: 1px solid;
        margin-top: 20px;
    }




     
</style>
<div id="mc_embed_signup">
    <form action="https://c0nrad.us18.list-manage.com/subscribe/post?u=0bdbd19644a1ba1fcca633b7b&amp;id=09f2143da6"
        method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
        novalidate>
        <div id="mc_embed_signup_scroll">
            <label for="mce-EMAIL">Subscribe for new posts:</label>
            <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
            
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
                    name="b_0bdbd19644a1ba1fcca633b7b_09f2143da6" tabindex="-1" value=""></div>
            <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
                    class="button"></div>
        </div>
    </form>
</div>


            
        </footer>
    </div>
</body>
</html>
